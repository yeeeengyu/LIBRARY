# Chapter 2 - 벡터 DBMS 종류 및 선택 기준

### 벡터 DBMS 특징
---
- 벡터 DBMS 특징
  - 빠른 검색 · 유사도 검색을 위해 고차원 벡터를 사용함
  - 데이터 복잡성 · 변환 가능성 때문에 수천개의 백터 차원을 저장하고 최적화하는 데에 집중되어있음
  <br>
  <br>
  - 메타데이터 저장 · 필터링
    - 벡터유사성 기반 검색 대신에 메타데이터로도 필터링하고 검색이 가능함
    - 선택지가 많으니 더욱 유연하고 동적이게 프로세스 구성이 가능함
<br>


### 벡터 DBMS 종류 및 선택 시 고려사항
---
- 2020년 이후 다양한 벡터DBMS가 개발됨
- 챗지피티 출시 이후 급격히 벡터DB의 수요가 높아졌고, 기존 RDB / NoSQL DB 플랫폼에서도
벡터 관련 기능을 가진 기능들을 추가함 ( ex. Oracle, MongoDB )

![alt text](images\벡터DB순위.png)
> *책속 이미지가 아닙니다. 이해용 자료*
<br>
- 책에서 언급하는 DB는 왼쪽 빨간점을 참고하면 됨
- 암스테르담에서 개발한 Elasticsearch가 1등을 기록함
- 순수 벡터DB로는 샌프란시스코에서 개발한 Pinecone이 1등을 기록함
<br> <br>
- 벡터DB를 고르는 기준은 다음 4가지가 대표적인 요소이다.
---

#### 온프레미스 ( On-Premise )와 Managed 방법 기준 구분
- 온프레미스 ??
  - 개인 · 기업이 서버를 물리적인 전산실에 소유하고 운영하는 방식 << 클라우드 정반대
  - 직접적인 통제 · 보안을 제공하지만, 초기비용 · 유지관리에 많은 리소스가필요함
- 매니지드 ??
  - 기업에게 애플리케이션 운영 · 유지보수를 전문 업체한테 위탁하는 서비스 << 클라우드 ? 비슷한거일듯
  - 비용 · 확장에 용이하지만 위탁업체 ( 서비스 제공자 )에 대한 의존성이 큼
  - 보안 문제도 우려될수 있을듯
<br>
---

#### 오픈소스 여부로 구분
> *오픈소스는 Chroma DB, 비오픈소스는 Pinecone 기준으로 설명함*
- 오픈소스 DBMS
  - 무료!!!
  - 사용자 입맛대로 기능 커스터마이징 가능
    - 검색 전략 ( 코싸인, 거리, top_k 등등)
  - 커뮤니티 기반 보안패치가 빠르긴한데 오픈소스인만큼 보안이슈는 감안해야함
  - 자유도가 높아서 고급 기술력이 필요함

- 상용DBMS 
  - 유료
  - 코드는 벤더 ( 서비스 제공업체, OpenAI, Google같은거 ) 에 의존
  - 벤더에서 웬만한 기능 · 보안 · 기술 지원 제공
  - 오픈소스보다 보안이 기본적으로 더 강함
---

#### 확장기능으로 구분
- 데이터 양이 많아지면 어쩔 수 없이 데이터를 분할 · 확장해야하는 순간이 옴
- 두가지 기법이 존재하는데, 둘다 성격이 완전 다름
  - Static ( 정적 ) 샤딩
    - DB 전체를 미리 나눠놓고 사용
    - 초기에 정한 수대로 나뉘어지기 때문에 확장성에 제한이 있음
    - Weaviate, Qdrant, Chroma 등등이 이 방식 사용
  - Dynamic Segment ( 동적분류 ) 배치
    - 데이터가 DB에 들어오면 그때 바로바로 세그먼트 생성
    - 데이터 크기 · 부하에 따라서 자동으로 세그먼트에 배치해줌
    - 확장성 · 유연성에서 정적샤딩에 비해 굉장히 좋은모습
    - Chroma 등등이 이 방식 사용
      - Chroma는 기본적으로 동적분류이지만 직접 설계하면 정적샤딩도 가능함
<br> <br>

- 보통 동적 분류배치를 도입하는 게 기본적으로 유리하다는 측면이 있음

---

#### 역할기반 ( Rule-Based ) 접근 제어 기능으로 구분
- 네트워크 · 시스템 상에서 사용자한테 역할을 부여
  - 각 역할에 따라 접근할 수 있는 범위가 달라짐
  - 보안이 짱짱하고 직무에 따라 일괄적인 권한 부여로 효율적인 접근제어가 가능하다는 점에서 사용하는 것같다

---

### 벡터 DBMS 종류별 특징 비교
> *8개정도의 벡터DB들이 서술되어있으나 적는것보다 하나하나 시간을 들여 사용해보는 <br>
것이 배우는 데에 있어 괜찮을 것 같아 간략히 서술합니다*

| 벡터전용 DB | 벡터 라이브러리 | SQL기반 DB | NoSQL기반 DB |
|:-----------:|:---------------:|:----------:|:------------:|
|Chroma, Pinecone, Qdrant 등 | FAISS | PGVector | ElasticSearch, MongoDB Atlas|

- FAISS는 Facebook에서 벡터검색 · 유사도 검색을 빠르고 효율적이게 사용할 수 있도록 <br> 라이브러리 형태로 제공함
  - 개인이 쓰기 가장 편함 !!

---